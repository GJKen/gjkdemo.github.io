function loadResource(t,n){if("style"===t){const t=document.createElement("style");t.textContent=n.css,document.head.appendChild(t)}}function createTOC(){const t=document.createElement("div");t.className="toc",document.body.appendChild(t),document.querySelectorAll(".markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6").forEach(n=>{n.id||(n.id=n.textContent.trim().replace(/\s+/g,"-").toLowerCase());const o=document.createElement("a");if(o.href=`#${n.id}`,o.textContent=n.textContent,o.className=`toc-link toc-${n.tagName.toLowerCase()}`,"H1"!==n.tagName){const t=parseInt(n.tagName.charAt(1));o.style.marginLeft=`${10*(t-1)}px`}o.addEventListener("click",function(t){t.preventDefault(),document.getElementById(n.id).scrollIntoView({behavior:"smooth"})}),t.appendChild(o)})}function toggleTOC(){const t=document.querySelector(".toc"),n=document.querySelector(".ArticleTOC");t&&n&&(t.classList.toggle("show"),n.classList.toggle("active"),n.style.boxShadow=n.classList.contains("active")?"6px 6px 14px 0 var(--header-btn-shadowColor) inset, -7px -7px 12px 0 var(--header-btn-shadowColor2) inset":"")}document.addEventListener("DOMContentLoaded",function(){createTOC();loadResource("style",{css:"\n:root{--toc-link-bgColor:#ffffffb8;--toc-h1-after-bgColor:#1b9dff}[data-color-mode=dark][data-dark-theme=dark],[data-color-mode=dark][data-dark-theme=dark]::selection,[data-color-mode=light][data-light-theme=dark],[data-color-mode=light][data-light-theme=dark]::selection{--toc-link-bgColor:#121d23ab;--toc-h1-after-bgColor:#43dbff}.toc{position:fixed;bottom:13%;right:0;transform:translateX(50%);width:250px;max-height:50vh;background-color:var(--toc-link-bgColor);border-radius:10px;padding:10px;box-shadow:0 2px 10px rgba(0,0,0,.2);overflow-y:auto;z-index:99;opacity:0;visibility:hidden;transition:opacity .3s ease,transform .3s ease,visibility .3s;backdrop-filter:blur(15px)}.toc::-webkit-scrollbar{width:4px}.toc::-webkit-scrollbar-thumb{background:#9fc6e3;border-radius:20px}.toc::-webkit-scrollbar-thumb:hover{background:#6baedf}.toc{scrollbar-width:thin;scrollbar-color:#9fc6e3 transparent}.toc.show{opacity:1;visibility:visible;transform:translateY(0)}.toc a{display:block;color:var(--fgColor-default);text-decoration:none;padding:6px;font-size:14px;line-height:1.5;border-radius:8px;transition:background-color .2s ease}.toc a:hover{background-color:#6be5ff99;transform:translate(1px,1px);}.toc-icon{position:fixed;bottom:7%;right:15px;cursor:pointer;background-color:rgba(255,255,255,.8);color:#333;border-radius:50%;width:51px;height:51px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 10px rgba(0,0,0,.1);z-index:1001;transition:all .3s ease;user-select:none;-webkit-tap-highlight-color:transparent;outline:0}.toc-icon:hover{transform:scale(1.1);background-color:#fff}.toc-icon:active{transform:scale(.9)}.toc-icon.active{background-color:#fff;color:#333}.toc-icon svg{width:24px;height:24px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}.toc-h1{position:relative;padding-left:10px}.toc-h1::after{content:'';position:absolute;top:50%;left:0;width:3px;height:60%;background-color:var(--toc-h1-after-bgColor);transform:translateY(-50%)}@media (max-width:768px){.toc{width:200px;max-height:40vh}.toc-icon{width:40px;height:40px;bottom:15px;right:15px}.toc-icon svg{width:20px;height:20px}}.back-to-top{position:fixed;bottom:1%;right:15px;background-color:rgba(255,255,255,.8);color:#333;border:none;border-radius:50%;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,.1);width:50px;height:50px;font-size:30px;z-index:10000;transform:translateY(20px);opacity:0;visibility:hidden;transition:transform .3s ease,opacity .3s ease,visibility 0s linear .3s;align-items:center;justify-content:center}.back-to-top.show{transform:translateY(0);opacity:1;visibility:visible;transition:transform .3s ease,opacity .3s ease}.back-to-top:hover{transform:scale(1.1)}.back-to-top svg{width:24px;height:24px}@media (max-width:768px){.back-to-top{bottom:2%;width:40px;height:40px;font-size:20px}.toc-icon{bottom:7%}}.toc-link.toc-active{background-color:#3db9d399;font-weight:700;box-shadow:inset -2px -2px 6px #ffffff42,inset 2px 2px 6px #00000080;}\n\t"});const t=document.querySelector(".ArticleTOC");t&&(t.onclick=(t=>{t.stopPropagation(),toggleTOC()})),document.addEventListener("click",t=>{const n=document.querySelector(".toc");n&&n.classList.contains("show")&&!n.contains(t.target)&&!t.target.classList.contains("toc-icon")&&toggleTOC()});const n=document.createElement("button");n.className="back-to-top",n.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',document.body.appendChild(n),n.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));const o=()=>{n.classList.toggle("show",window.pageYOffset>300)};window.addEventListener("scroll",o),window.addEventListener("resize",o),o();document.addEventListener("scroll",()=>{const t=document.querySelectorAll(".toc-link"),n=window.scrollY+10;let o=null;t.forEach(t=>{const e=document.getElementById(t.getAttribute("href").substring(1));e&&e.offsetTop<=n&&(o=t)}),t.forEach(t=>t.classList.remove("toc-active")),o&&(o.classList.add("toc-active"),o.scrollIntoView({block:"center",inline:"nearest"}))})});